DNS exploitation
========================
# Enumerate domain

Primeiro temos que verificar se a gente consegue obter o nome do domínio por mieo de uma resolução invesrsa de DNS da seguinte maneira:
Informar o serviço de DNS encontrado por meio do comando abaixo:
    
    sudo nmap -sU -p 53 192.168.134.0/24 -oG dns_enum_lab.txt
    #Assim que achado o DNS server (porta 53 aberta), fazemos um nslookup ou host para um host da rede
    #host <IPS_DA_REDE> <IP_DNS_SERVER>
    host 192.168.134.149 192.168.134.149
    

    nslookup
    server 192.168.134.149    
![qownnotes-media-GwrWbS](../../media/qownnotes-media-GwrWbS.png)

    host -t ns mailman.com # Para encontrar o name server do domínio


# Enumerating subdomains


Brute-force: 

	dnsrecon -d target.com -D wordlist.txt -t brt
	
**OBS: wordlist can be found at:**

**C:\Users\olive\Desktop\acosta\owncloud\Tools_Utilities\hacking-tools\fuzzdb\discovery\dns**


## DNS cache snooping: 
	
	dnsrecon -t snoop -D wordlist.txt -n 2.2.2.2 where 2.2.2.2 is the IP of the target’s NS server
Options
--threads 8: Number of threads
-n nsserver.com: Use a custom name server
Output options
--db: SQLite 3 file
--xml: XML file
--json: JSON file
--csv: CSV file

## DNS Zone transfer

	dnsrecon -d target.com -t axfr
	
or
	
	host -l target.com <dns_server_address>
	
**OBS: First find which dns servers correspond to that domain with:**
	
	host -t ns target.com
	
![qownnotes-media-XJyjiZ](file://media/18886.png)

DNS Query types:

https://ns1.com/resources/dns-types-records-servers-and-queries

## sublim3r (Subdomains enumerator)


